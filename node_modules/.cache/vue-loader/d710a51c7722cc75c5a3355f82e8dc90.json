{"remainingRequest":"/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/src/views/PaymentOptions.vue?vue&type=template&id=7c1a231c","dependencies":[{"path":"/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/src/views/PaymentOptions.vue","mtime":1637650124969},{"path":"/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CjxkaXY+CjxkaXYgY2xhc3MgPSAiY2FyZCI+CjxidXR0b24gdHlwZT0ic3VibWl0IiAKICAgICAgICAgICAgY2xhc3M9Im10LTEwIHctNTAgYmctZ3JlZW4tNjAwIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcm91bmRlZC1tZCBweS0zIHB4LTggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC1iYXNlIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgaG92ZXI6YmctaW5kaWdvLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctb2Zmc2V0LTIgZm9jCiAgICAgICAgICAgIHVzOnJpbmctaW5kaWdvLTUwMCIgQGNsaWNrPSJzdWJtaXRDT0QiPgogICAgICAgICAgICBQYXkgdXNpbmcgQ2FzaCBvbiBEZWxpdmVyeSAKICAgICAgICAgICAgPC9idXR0b24+CjxidXR0b24gaWQ9InJ6cC1idXR0b24xIiBjbGFzcz0ibXQtMTAgdy01MCBiZy1ibHVlLTYwMCBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHJvdW5kZWQtbWQgcHktMyBweC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtYmFzZSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGhvdmVyOmJnLWluZGlnby03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvYwogICAgICAgICAgICB1czpyaW5nLWluZGlnby01MDAiID5PbmxpbmUgUGF5bWVudCB1c2luZyBSYXpvcnBheTwvYnV0dG9uPgoKPC9kaXY+PC9kaXY+Cgo="},{"version":3,"sources":["/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/src/views/PaymentOptions.vue"],"names":[],"mappings":";AACA,CAAC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAC1N,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YACtO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEtE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/dhruvshrivastava/Desktop/kitabkuber-vue/kitabkuber/src/views/PaymentOptions.vue","sourceRoot":"","sourcesContent":["<template>\n<div>\n<div class = \"card\">\n<button type=\"submit\" \n            class=\"mt-10 w-50 bg-green-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 foc\n            us:ring-indigo-500\" @click=\"submitCOD\">\n            Pay using Cash on Delivery \n            </button>\n<button id=\"rzp-button1\" class=\"mt-10 w-50 bg-blue-600 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 foc\n            us:ring-indigo-500\" >Online Payment using Razorpay</button>\n\n</div></div>\n\n</template>\n\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    name: 'PaymentOptions',\n\n    data() {\n        return {\n            orders: [],\n            order_id: null,\n            order: null,\n            total: 0,\n            options: {},\n            book_name: null,\n            first_name: null, \n            email: null, \n            phone: null,\n            address: null,\n            city: null,\n            state: null,\n            pincode: null,\n            phone: null,\n            mrp: null,\n            rent: null,\n            deposit: null,\n            thumbnail: null \n        }\n    },\n    mounted() {\n        document.title = 'Payment Options | KitabKuber'\n        this.getMyOrders()\n        \n        this.order = this.$store.state.order\n        this.total = this.order[\"total\"]*100\n        this.book_name = this.order[\"book_name\"]\n        this.first_name = this.order[\"first_name\"]\n        this.email = this.order[\"email\"]\n        this.phone = this.order[\"phone\"]\n        \n        var options = {\n                \"key\": process.env.VUE_APP_RAZORPAY_ID,\n                \"amount\": this.total, \n                \"currency\": \"INR\",\n                \"name\": \"KitabKuber\",\n                \"description\": this.book_name,\n                \"image\": \"https://example.com/your_logo\",\n                \"order_id\": this.order_id, \n                \"handler\": function(response) {\n                    alert(\"Transaction successful.\")\n                    location.href = '/success'\n                },\n                \n                \"prefill\": {\n                    \"name\": this.first_name,\n                    \"email\": this.email,\n                    \"contact\": this.phone\n                },\n                \"notes\": {\n                    \"address\": \"KitabKuber, Shop No. C-019, 81 Business Street, Sector 86, Faridabad, Haryana\"\n                },\n                \"theme\": {\n                    \"color\": \"#3399cc\"\n                }\n                \n    };  \n\n                var rzp1 = new Razorpay(options);\n            rzp1.on('payment.failed', function (response){\n                    this.flag = false\n                    alert(response.error.code);\n                    alert(response.error.description);\n                    alert(response.error.source);\n                    alert(response.error.step);\n                    alert(response.error.reason);\n                    alert(response.error.metadata.order_id);\n                    alert(response.error.metadata.payment_id);\n            });\n            \n            document.getElementById('rzp-button1').onclick = function(e, response){\n                rzp1.open();\n                e.preventDefault();\n                \n            }\n            this.submitOrder()\n    },\n    methods: {\n\n        async getMyOrders() {\n            await axios\n                .get('/api/v1/get-rp-order/')\n                .then(response => {\n                    this.orders = response.data\n                    this.order_id = this.orders[0].id\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        },\n\n        async submitCOD() {\n            this.order[\"payment\"] = \"cod\"\n            await axios\n            .post('/api/v1/checkout/', this.order)\n            this.$router.push('/success')\n            \n        },\n        async submitOrder() {\n            this.order[\"payment\"] = \"razorpay\"\n            await axios \n            .post('/api/v1/checkout/', this.order)\n        }\n        \n        },\n\n\n    }\n\n\n</script>\n"]}]}